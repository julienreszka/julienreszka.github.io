<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Challenge the J-Curve: Data-Driven Recovery Analysis | Interactive
      Economic Simulator
    </title>

    <!-- SEO Meta Tags -->
    <meta
      name="description"
      content="Challenge traditional J-Curve theory with real data. Interactive simulator comparing theoretical models vs empirical evidence from Poland's rapid recovery and other real-world cases."
    />
    <meta
      name="keywords"
      content="J-curve, economic recovery, policy shock, devaluation, economic transition, shock therapy, interactive simulator, responsive design"
    />
    <meta name="author" content="Julien Reszka" />
    <meta name="robots" content="index, follow" />
    <meta name="theme-color" content="#dc3545" />

    <!-- Open Graph -->
    <meta
      property="og:title"
      content="J-Curve: The Right to Economic Recovery | Interactive Simulator"
    />
    <meta
      property="og:description"
      content="Interactive simulator exploring economic recovery patterns and the natural right to economic recovery after policy shocks."
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://julienreszka.github.io/economic-simulator/j-curve.html"
    />
    <meta
      property="og:image"
      content="https://julienreszka.github.io/economic-simulator/j-curve-preview.png"
    />
    <meta property="og:site_name" content="Economic Curves Simulator" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="J-Curve: The Right to Economic Recovery"
    />
    <meta
      name="twitter:description"
      content="Interactive simulator exploring economic recovery patterns. Modern design."
    />
    <meta name="twitter:creator" content="@julienreszka" />

    <!-- Canonical URL -->
    <link
      rel="canonical"
      href="https://julienreszka.github.io/economic-simulator/j-curve.html"
    />

    <!-- Shared Styles -->
    <link rel="stylesheet" href="shared-styles.css" />

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      .jcurve-specific {
      }

      .jcurve-specific h3 {
        color: #dc3545 !important;
      }

      .help-text {
        color: #666;
        font-style: italic;
        font-size: 0.9em;
      }

      .help-text {
        color: #666;
        font-style: italic;
        font-size: 0.9em;
      }
    </style>
  </head>

  <body>
    <div id="container">
      <!-- Navigation Breadcrumb -->
      <nav class="nav-breadcrumb" aria-label="Breadcrumb">
        <a href="index.html">← Back to All Curves</a>
      </nav>

      <h1>Challenge the J-Curve: When Data Contradicts Theory</h1>

      <p>
        <strong>Challenging the J-Curve:</strong> Traditional J-Curve theory
        claims that economic recovery must be slow and painful. But when you
        look at the real data, this theory falls apart. This interactive
        simulator lets you compare the traditional J-curve against what the data
        actually shows - countries like Poland recovered in 1-2 years, not
        decades. The results are surprising and reveal how theory often masks
        political convenience.
      </p>

      <!-- Interactive Simulation -->
      <section id="jcurve-section">
        <h2>Interactive J-Curve Simulator: Theory vs. Real Data</h2>

        <form id="paramsFormJCurve">
          <div class="param-group">
            <label for="base-jcurve">Base Level (e.g., 0):</label>
            <input
              type="number"
              id="base-jcurve"
              value="0"
              step="0.5"
              min="-10"
              max="10"
              aria-describedby="base-jcurve-help"
            />
            <small id="base-jcurve-help" class="sr-only"
              >Pre-shock economic indicator</small
            >
          </div>

          <div class="param-group">
            <label for="depth-jcurve">Dip Depth (positive, e.g., 10):</label>
            <input
              type="number"
              id="depth-jcurve"
              value="10"
              step="1"
              min="1"
              max="50"
              aria-describedby="depth-jcurve-help"
            />
            <small id="depth-jcurve-help" class="sr-only"
              >Initial shock severity</small
            >
          </div>

          <div class="param-group">
            <label for="tau-jcurve">Adjustment Time (τ, e.g., 2):</label>
            <input
              type="number"
              id="tau-jcurve"
              value="2.5"
              step="0.5"
              min="0.5"
              max="10"
              aria-describedby="tau-jcurve-help"
            />
            <small id="tau-jcurve-help" class="sr-only"
              >Time constant for recovery (higher = slower)</small
            >
          </div>

          <div class="param-group">
            <label for="slope-jcurve">Recovery Slope (e.g., 1):</label>
            <input
              type="number"
              id="slope-jcurve"
              value="0.6"
              step="0.1"
              min="0"
              max="5"
              aria-describedby="slope-jcurve-help"
            />
            <small id="slope-jcurve-help" class="sr-only"
              >Long-term improvement rate</small
            >
          </div>

          <div class="param-group">
            <label for="frequency-jcurve"
              >Oscillation Frequency (e.g., 0.8):</label
            >
            <input
              type="number"
              id="frequency-jcurve"
              value="1.2"
              step="0.1"
              min="0.1"
              max="2"
              aria-describedby="frequency-jcurve-help"
            />
            <small id="frequency-jcurve-help" class="sr-only"
              >Frequency of economic cycles during recovery</small
            >
          </div>

          <div class="param-group">
            <label for="damping-jcurve">Damping Factor (e.g., 0.3):</label>
            <input
              type="number"
              id="damping-jcurve"
              value="0.1"
              step="0.05"
              min="0"
              max="1"
              aria-describedby="damping-jcurve-help"
            />
            <small id="damping-jcurve-help" class="sr-only"
              >How quickly oscillations fade (0 = no damping, 1 = heavy
              damping)</small
            >
          </div>

          <div class="param-group">
            <label for="plateau-jcurve">Plateau Level (e.g., 15):</label>
            <input
              type="number"
              id="plateau-jcurve"
              value="5"
              step="1"
              min="0"
              max="50"
              aria-describedby="plateau-jcurve-help"
            />
            <small id="plateau-jcurve-help" class="sr-only"
              >Final steady-state level after recovery</small
            >
          </div>
        </form>

        <div class="param-group">
          <label for="country-select-jcurve">Show Real Country Data:</label>
          <select
            id="country-select-jcurve"
            aria-describedby="country-select-jcurve-help"
          >
            <option value="none">None</option>
            <option value="poland" selected>Poland (1989-2024)</option>
          </select>
          <small id="country-select-jcurve-help" class="help-text"
            >Real-time GDP growth data from World Bank API showing J-curve
            recovery pattern during Poland's shock therapy transition</small
          >
        </div>

        <div class="param-group">
          <label for="time-period-select-jcurve"
            >Time Period for Analysis:</label
          >
          <select
            id="time-period-select-jcurve"
            aria-describedby="time-period-jcurve-help"
          >
            <option value="transition">Transition Period (1989-1995)</option>
            <option value="full">Full Recovery (1989-2004)</option>
            <option value="extended" selected>
              Extended Period (1989-2024)
            </option>
          </select>
          <small id="time-period-jcurve-help" class="help-text"
            >Select timeframe for analyzing Poland's economic transition and
            long-term performance</small
          >
          <div
            id="data-status-jcurve"
            style="margin-top: 5px; font-weight: bold"
          >
            Ready to load data
          </div>
        </div>

        <div
          class="chart-container"
          role="img"
          aria-labelledby="jcurve-chart-label"
        >
          <canvas
            id="growthChartJCurve"
            aria-label="Interactive J-Curve showing economic recovery after policy shock"
          ></canvas>
          <div id="jcurve-chart-label" class="sr-only">
            Chart displaying the J-Curve with time on x-axis and economic
            indicator on y-axis
          </div>
        </div>

        <div
          id="jcurve-insights"
          class="results-display"
          aria-live="polite"
        ></div>
      </section>

      <!-- Detailed Explanation -->
      <section>
        <h2>The J-Curve Theory vs. Reality: When Data Proves Theory Wrong</h2>

        <div style="margin-top: 15px; line-height: 1.6">
          <p>
            <strong
              >The J-Curve theory is often inaccurate and politically
              misleading.</strong
            >
            Traditional J-Curve theory suggests that economic recovery must be
            slow and painful, but this narrative is frequently used by
            politicians as an excuse to preserve the status quo or justify
            prolonged economic hardship. In reality,
            <strong
              >countries can recover remarkably quickly once confidence in
              institutions is reestablished</strong
            >.
          </p>

          <p>
            The real lesson from successful transitions like Poland's is not
            that recovery takes time, but that
            <strong>institutional credibility enables rapid recovery</strong>.
            What we often call "J-curve" patterns are actually
            <strong>institutional confidence curves</strong>
            - the oscillations we see are natural stabilization processes, not
            fundamental requirements for slow adjustment.
          </p>

          <h3>The Real Pattern: Institutional Confidence, Not Time</h3>
          <p>
            <strong>Poland's data proves the point:</strong> Recovery can be
            remarkably fast when institutions are credible:
          </p>
          <ul>
            <li>
              <strong>1991: -7.0% growth</strong> - The initial shock from
              communist system collapse
            </li>
            <li>
              <strong>1992: +2.5% growth</strong> - Immediate recovery in just
              one year!
            </li>
            <li>
              <strong>1993-1995: +3.7%, +5.3%, +7.9%</strong> - Strong,
              sustained growth once confidence established
            </li>
            <li>
              <strong>Rapid institutional transformation:</strong> Clear
              property rights, market mechanisms, and political commitment
              enabled fast recovery
            </li>
          </ul>

          <p>
            <strong>The traditional J-Curve narrative gets it wrong:</strong>
          </p>
          <ul>
            <li>
              <strong>Political Excuse:</strong> "It takes time to recover"
              becomes justification for poor policy choices
            </li>
            <li>
              <strong>Status Quo Protection:</strong> Entrenched interests use
              "adjustment period" rhetoric to resist necessary changes
            </li>
            <li>
              <strong>Institutional Deflection:</strong> Blames time rather than
              institutional quality for slow recovery
            </li>
            <li>
              <strong>Self-Fulfilling Prophecy:</strong> Expecting slow recovery
              undermines the confidence needed for rapid recovery
            </li>
          </ul>

          <h3>What Actually Drives Recovery Speed: Institutional Confidence</h3>
          <p>
            The speed of economic recovery depends primarily on
            <strong>institutional credibility</strong>, not time. When people
            trust that new institutions will be maintained and enforced, they
            adapt quickly:
          </p>
          <ul>
            <li>
              <strong>Property Rights Clarity:</strong> Clear, enforceable
              property rights enable immediate investment
            </li>
            <li>
              <strong>Policy Credibility:</strong> Consistent, predictable
              policies allow for confident decision-making
            </li>
            <li>
              <strong>Rule of Law:</strong> Reliable legal frameworks reduce
              uncertainty and transaction costs
            </li>
            <li>
              <strong>Political Commitment:</strong> Demonstrated commitment to
              reforms prevents policy reversal fears
            </li>
            <li>
              <strong>Institutional Capacity:</strong> Effective bureaucracy
              that can implement policies consistently
            </li>
            <li>
              <strong>International Integration:</strong> External anchors (EU
              membership, trade agreements) that lock in reforms
            </li>
          </ul>

          <h3>
            Why Oscillations Happen: Natural Stabilization, Not Fundamental
            Adjustment
          </h3>
          <p>
            The oscillations we observe during recovery are
            <strong>normal business cycle variations</strong> and
            <strong>stabilization dynamics</strong>, not evidence that recovery
            must be slow:
          </p>
          <ul>
            <li>
              <strong>Normal Business Cycles:</strong> Standard economic
              expansions and contractions continue during and after
              institutional transformation
            </li>
            <li>
              <strong>Learning and Optimization:</strong> Actors fine-tune their
              behavior as they gain experience with new institutions
            </li>
            <li>
              <strong>External Economic Shocks:</strong> Global economic events
              affect recovery regardless of institutional quality
            </li>
            <li>
              <strong>Sectoral Reallocation:</strong> Different sectors adjust
              at different speeds, creating temporary imbalances
            </li>
            <li>
              <strong>Political Cycles:</strong> Elections and policy debates
              create temporary uncertainty even within stable institutional
              frameworks
            </li>
            <li>
              <strong>Market Dynamics:</strong> Natural price discovery and
              competitive adjustment processes in newly liberalized markets
            </li>
          </ul>

          <h3>The Political Economy of J-Curve Mythology</h3>
          <p>
            <strong>Why politicians promote slow-recovery narratives:</strong>
          </p>
          <ul>
            <li>
              <strong>Excuse for Poor Performance:</strong> "Reforms take time"
              deflects responsibility for institutional failures
            </li>
            <li>
              <strong>Status Quo Protection:</strong> Existing beneficiaries of
              inefficient systems use "adjustment period" to resist change
            </li>
            <li>
              <strong>Lower Expectations:</strong> Preparing public for poor
              performance rather than delivering institutional quality
            </li>
            <li>
              <strong>Technocratic Cover:</strong> Using economic theory to
              justify political choices that serve narrow interests
            </li>
          </ul>

          <h3>
            What This Means for Real Policy: Focus on Institutions, Not Time
          </h3>
          <ul>
            <li>
              <strong>Institutional Quality First:</strong> Build credible,
              enforceable institutions before expecting rapid recovery
            </li>
            <li>
              <strong>Credible Commitment:</strong> Demonstrate genuine,
              irreversible commitment to reformed institutions
            </li>
            <li>
              <strong>Transparency and Predictability:</strong> Clear,
              consistent policies that reduce uncertainty
            </li>
            <li>
              <strong>Rule of Law:</strong> Reliable legal framework that
              protects property rights and enforces contracts
            </li>
            <li>
              <strong>International Anchoring:</strong> External commitments (EU
              membership, trade agreements) that lock in reforms
            </li>
            <li>
              <strong>Reject Slow-Recovery Excuses:</strong> Don't accept "it
              takes time" as justification for institutional failures
            </li>
            <li>
              <strong>Expect Rapid Results:</strong> With proper institutions,
              economic actors adapt quickly and recovery follows
            </li>
          </ul>

          <h3>Real-World Examples</h3>

          <h4>
            Poland's Rapid Recovery (1990-1995) - Institutional Confidence in
            Action
          </h4>
          <p>
            Poland's transition demonstrates that
            <strong
              >rapid recovery is possible when institutional confidence is
              quickly established</strong
            >, not because of any inherent "J-curve" time requirement. The
            recovery was fast because reforms were credible and comprehensive.
          </p>

          <h5>The Reforms (What They Did)</h5>
          <ul>
            <li>
              <strong>Price Liberalization:</strong> Removed communist-era price
              controls, allowing markets to determine prices
            </li>
            <li>
              <strong>Currency Stabilization:</strong> Fixed exchange rate to
              control hyperinflation
            </li>
            <li>
              <strong>Fiscal Reform:</strong> Eliminated subsidies to state
              enterprises, balanced government budget
            </li>
            <li>
              <strong>Trade Liberalization:</strong> Opened borders to
              international competition and investment
            </li>
            <li>
              <strong>Privatization:</strong> Transferred state enterprises to
              private ownership
            </li>
            <li>
              <strong>Legal Framework:</strong> Established property rights and
              commercial law
            </li>
          </ul>

          <h5>The Real Recovery Pattern (Rapid, Not Slow)</h5>
          <ul>
            <li>
              <strong>1991: -7.0% GDP contraction</strong> - Initial disruption
              from system collapse (World Bank data)
            </li>
            <li>
              <strong>1992: +2.5% GDP growth</strong> - Recovery began
              immediately, just one year later!
            </li>
            <li>
              <strong>1993: +3.7%, 1994: +5.3%, 1995: +7.9%</strong> - Strong,
              sustained growth once institutions were credible
            </li>
            <li>
              <strong>Recovery was complete within 2-3 years</strong>, not the
              prolonged adjustment traditional theory suggests
            </li>
            <li>
              <strong
                >By 1994, Poland had already exceeded pre-transition growth
                rates</strong
              >
            </li>
          </ul>

          <h5>Why Poland Succeeded: Institutional Credibility, Not Time</h5>
          <p>
            Poland's success came from rapidly establishing credible
            institutions that people could trust, enabling immediate economic
            adaptation:
          </p>

          <ul>
            <li>
              <strong>Clear Property Rights:</strong> Immediate legal framework
              protecting private ownership and investment
            </li>
            <li>
              <strong>Comprehensive Reform Package:</strong> All reforms
              implemented simultaneously, creating credible commitment
            </li>
            <li>
              <strong>Political Consensus:</strong> Broad public and elite
              agreement on reform direction
            </li>
            <li>
              <strong>International Support:</strong> EU membership prospect and
              Western aid providing external anchors
            </li>
            <li>
              <strong>Institutional Capacity:</strong> Effective bureaucracy
              that could implement policies consistently
            </li>
            <li>
              <strong>Transparency and Predictability:</strong> Clear,
              consistent economic policies reducing uncertainty
            </li>
          </ul>

          <p>
            <strong>The lesson:</strong> When institutions are credible, people
            adapt quickly and recovery follows immediately. The "adjustment
            period" was measured in months, not years, because institutional
            confidence was established rapidly.
          </p>

          <h3>Critical Success Factors for Rapid Institutional Recovery</h3>
          <p>
            Analysis of successful and failed transitions reveals several
            institutional and policy factors that determine whether recovery is
            rapid (institutional confidence) or slow (traditional patterns):
          </p>

          <h4>1. Pre-existing Market Infrastructure</h4>
          <p>
            <strong>Essential Foundation:</strong> Countries with some market
            experience, even if limited, tend to recover faster from economic
            shocks than those starting from pure command economies.
          </p>
          <p>
            <strong>Poland's Advantage:</strong> Had some private sector
            activity and market familiarity from 1980s reforms, making
            transition less disruptive than in countries starting from zero
            market experience.
          </p>

          <h4>2. Stable Democratic Institutions</h4>
          <p>
            <strong>Political Sustainability:</strong> Democratic institutions
            provide channels for public frustration while maintaining reform
            commitment.
          </p>
          <p>
            <strong>Contrast:</strong> Countries with weak democratic
            institutions often see reforms reversed by authoritarian backlash
            during the difficult adjustment period, preventing completion of the
            J-Curve recovery.
          </p>

          <h4>3. Gradual, Equitable Privatization</h4>
          <p>
            <strong>Avoiding Oligarchy:</strong> Privatization processes that
            create broad-based ownership rather than concentrating assets among
            insiders tend to build stronger public support for reforms.
          </p>
          <p>
            <strong>Poland's Success:</strong> Used voucher schemes and employee
            ownership to distribute assets widely, contrasting with countries
            where privatization enriched only political elites.
          </p>

          <h4>4. Social Safety Nets</h4>
          <p>
            <strong>Political Buffer:</strong> Unemployment insurance,
            retraining programs, and targeted assistance help maintain public
            support during the adjustment period.
          </p>
          <p>
            <strong>Critical Balance:</strong> Safety nets must be large enough
            to cushion adjustment costs but not so large as to prevent necessary
            economic restructuring.
          </p>

          <h4>5. External Financial Support</h4>
          <p>
            <strong>Transition Financing:</strong> International assistance can
            provide resources needed to implement reforms while maintaining
            basic services and social stability.
          </p>
          <p>
            <strong>Poland's Advantage:</strong> Received substantial Western
            aid and early EU membership prospects that provided both financial
            resources and institutional anchors for reform.
          </p>

          <h4>6. Proper Sequencing</h4>
          <p>
            <strong>Institutional First:</strong> Building legal framework and
            property rights before privatization tends to produce better
            outcomes than privatizing first and building institutions later.
          </p>
          <p>
            <strong>Macroeconomic Stability:</strong> Controlling inflation and
            achieving fiscal balance early in the process provides stable
            foundation for other reforms.
          </p>

          <h4>7. Political Will and Public Patience</h4>
          <p>
            <strong>Leadership Commitment:</strong> Political leaders must
            maintain reform momentum even when facing public criticism during
            the adjustment period.
          </p>
          <p>
            <strong>Public Education:</strong> Citizens need to understand why
            temporary costs are necessary for long-term benefits, requiring
            effective communication strategies.
          </p>

          <h4>8. Favorable Starting Conditions</h4>
          <p>
            <strong>Economic Fundamentals:</strong> Countries with educated
            populations, developed infrastructure, and industrial capacity tend
            to recover faster from transition shocks.
          </p>
          <p>
            <strong>Geographic Advantages:</strong> Proximity to developed
            markets provides opportunities for trade and investment that can
            accelerate recovery.
          </p>

          <h4>The Bottom Line on Success Factors</h4>
          <p>
            Rapid recovery through institutional confidence is achievable but
            requires excellent institutional design from the start. Countries
            with credible, enforceable institutions see immediate economic
            adaptation and recovery. The traditional "adjustment period" excuse
            often masks poor institutional quality rather than reflecting
            inherent economic necessities. When institutions are trustworthy,
            markets and actors adapt within months, not years.
          </p>

          <h3>Key Takeaways: Institutional Confidence Over Time</h3>
          <ul>
            <li>
              <strong>Reject J-Curve Excuses:</strong> "It takes time to
              recover" is often a political excuse for poor institutional design
            </li>
            <li>
              <strong>Institutional Quality Drives Speed:</strong> Recovery
              speed depends on institutional credibility, not inherent time
              requirements
            </li>
            <li>
              <strong>Rapid Recovery is Possible:</strong> Poland went from -7%
              to +2.5% growth in one year with credible institutions
            </li>
            <li>
              <strong>Oscillations Are Normal:</strong> Economic volatility
              during recovery reflects natural stabilization, not slow
              adjustment
            </li>
            <li>
              <strong>Credibility Enables Confidence:</strong> When people trust
              institutions, they adapt quickly and invest immediately
            </li>
            <li>
              <strong>Demand Better Performance:</strong> Don't accept prolonged
              hardship as inevitable - demand institutional excellence
            </li>
          </ul>

          <h3>Understanding the Recovery Pattern</h3>
          <p>
            The chart shows both theoretical oscillations and real data. When
            the curve shows negative values, this represents economic
            contraction below the pre-shock baseline. The key insight is that
            <strong
              >with proper institutional confidence, recovery can be remarkably
              fast</strong
            >
            - as Poland demonstrated with its return to positive growth in just
            one year. The subsequent oscillations are natural economic cycles,
            not evidence that recovery must be slow.
          </p>

          <p>
            This analysis demonstrates that
            <strong
              >people have a right to rapid economic recovery through excellent
              institutions</strong
            >, not prolonged adjustment periods that often serve political
            rather than economic purposes.
          </p>
        </div>
      </section>

      <!-- Natural Right Section -->
      <section class="natural-rights-section">
        <h2>The Right to Economic Recovery</h2>

        <div class="right-card jcurve-specific">
          <div class="right-principle">
            <p>
              <strong>Negative Right:</strong> Freedom from policy instability
              and premature reform reversals that prevent economic recovery and
              trap societies in permanent crisis or stagnation.
            </p>
          </div>

          <div class="right-positive">
            <h4>Essential Institutions for Recovery Protection:</h4>
            <ul>
              <li>
                <strong>Policy Commitment Mechanisms:</strong> Constitutional or
                legal frameworks that prevent arbitrary reversal of necessary
                reforms
              </li>
              <li>
                <strong>Independent Technocratic Bodies:</strong> Institutions
                insulated from political pressure to maintain reform momentum
                during difficult periods
              </li>
              <li>
                <strong>Transition Support Systems:</strong> Social safety nets
                and adjustment assistance to maintain public support during
                recovery
              </li>
              <li>
                <strong>International Anchoring:</strong> Treaties, agreements,
                or institutional memberships that provide external commitment to
                reforms
              </li>
              <li>
                <strong>Transparent Progress Monitoring:</strong> Regular public
                reporting on recovery metrics to maintain accountability and
                public understanding
              </li>
              <li>
                <strong>Crisis Resolution Procedures:</strong> Clear protocols
                for handling economic shocks without abandoning long-term reform
                objectives
              </li>
            </ul>
          </div>

          <div class="right-enemies" style="margin-top: 20px">
            <h4 style="margin-bottom: 15px; color: var(--text-color)">
              Current Threats to This Right - Institutional Enemies of Recovery:
            </h4>
            <ul>
              <li>
                <strong>Electoral Short-termism:</strong> Political cycles that
                incentivize policy reversals before reforms can show benefits
              </li>
              <li>
                <strong>Populist Reaction:</strong> Movements that exploit
                temporary adjustment costs to gain power and reverse reforms
              </li>
              <li>
                <strong>Interest Group Resistance:</strong> Organizations
                benefiting from inefficient status quo that mobilize against
                necessary changes
              </li>
              <li>
                <strong>International Conditionality Failure:</strong> External
                requirements that focus on process rather than sustainable
                outcomes
              </li>
              <li>
                <strong>Institutional Weakness:</strong> Fragile state capacity
                unable to implement and sustain reform programs
              </li>
              <li>
                <strong>Information Manipulation:</strong> Deliberate distortion
                of economic data to hide adjustment costs or exaggerate benefits
              </li>
            </ul>
          </div>
        </div>
      </section>
    </div>

    <script>
      // Real-world data integration for J-curve
      let countryDataJCurve = {
        poland: [],
      };

      let isDataLoadedJCurve = false;

      // World Bank API integration
      async function fetchWorldBankData(
        countryCode,
        indicator,
        startYear,
        endYear
      ) {
        try {
          const url = `https://api.worldbank.org/v2/country/${countryCode}/indicator/${indicator}?date=${startYear}:${endYear}&format=json&per_page=100`;
          const response = await fetch(url);

          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }

          const data = await response.json();

          // World Bank API returns array with metadata as first element, data as second
          if (data && data.length > 1 && data[1]) {
            return data[1]
              .map((item) => ({
                year: parseInt(item.date),
                value: parseFloat(item.value),
                country: item.country?.value || countryCode,
              }))
              .filter((item) => item.value !== null && !isNaN(item.value))
              .sort((a, b) => a.year - b.year);
          }

          return [];
        } catch (error) {
          console.error("Error fetching World Bank data:", error);
          updateJCurveDataStatus(`Error loading data: ${error.message}`);
          return [];
        }
      }

      async function loadJCurveData() {
        const timePeriod = document.getElementById(
          "time-period-select-jcurve"
        ).value;
        updateJCurveDataStatus("Loading data from World Bank API...");

        try {
          let startYear, endYear;
          if (timePeriod === "transition") {
            startYear = 1989;
            endYear = 1995;
          } else if (timePeriod === "full") {
            startYear = 1989;
            endYear = 2004;
          } else {
            startYear = 1989;
            endYear = 2024;
          }

          // Fetch GDP growth data from World Bank API
          // NY.GDP.MKTP.KD.ZG is the indicator code for GDP growth (annual %)
          const worldBankData = await fetchWorldBankData(
            "POL",
            "NY.GDP.MKTP.KD.ZG",
            startYear,
            endYear
          );

          if (worldBankData.length === 0) {
            throw new Error("No data received from World Bank API");
          }

          countryDataJCurve.poland = worldBankData.map((item) => ({
            year: item.year,
            timeFromShock: item.year - 1989, // Years since 1989 shock
            gdpGrowth: item.value,
            name: `Poland ${item.year}`,
            source: "World Bank",
          }));

          isDataLoadedJCurve = true;
          updateJCurveDataStatus(
            `Data loaded: ${worldBankData.length} years from World Bank (${startYear}-${endYear})`
          );
          updateJCurveSimulation();
        } catch (error) {
          console.error("Failed to load World Bank data:", error);
          updateJCurveDataStatus(
            `Failed to load World Bank data: ${error.message}`
          );

          // Fallback to hardcoded data if World Bank API fails
          const fallbackData = {
            transition: {
              years: [1989, 1990, 1991, 1992, 1993, 1994, 1995],
              gdpGrowth: [0.2, -11.6, -7.0, -2.6, 3.8, 5.2, 7.0],
              label: "Poland Transition (1989-1995) - Fallback Data",
            },
            full: {
              years: [
                1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
                1999, 2000, 2001, 2002, 2003, 2004,
              ],
              gdpGrowth: [
                0.2, -11.6, -7.0, -2.6, 3.8, 5.2, 7.0, 6.2, 7.1, 5.0, 4.5, 4.3,
                1.2, 2.0, 3.9, 5.1,
              ],
              label: "Poland Full Recovery (1989-2004) - Fallback Data",
            },
            extended: {
              years: [
                1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
                1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008,
                2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018,
                2019, 2020, 2021, 2022, 2023,
              ],
              gdpGrowth: [
                0.2, -11.6, -7.0, -2.6, 3.8, 5.2, 7.0, 6.2, 7.1, 5.0, 4.5, 4.3,
                1.2, 2.0, 3.9, 5.1, 3.6, 6.2, 7.0, 4.2, 2.8, 3.6, 5.0, 1.6, 1.4,
                3.3, 3.8, 3.1, 4.8, 5.4, 4.7, -2.2, 6.9, 4.9, 0.2,
              ],
              label: "Poland Extended Period (1989-2023) - Fallback Data",
            },
          };

          const selectedData = fallbackData[timePeriod];
          countryDataJCurve.poland = selectedData.years.map((year, index) => ({
            year: year,
            timeFromShock: year - 1989,
            gdpGrowth: selectedData.gdpGrowth[index],
            name: `Poland ${year}`,
            source: "Fallback",
          }));

          isDataLoadedJCurve = true;
          updateJCurveDataStatus(`Using fallback data: ${selectedData.label}`);
          updateJCurveSimulation();
        }
      }

      function updateJCurveDataStatus(message) {
        const statusElement = document.getElementById("data-status-jcurve");
        if (statusElement) {
          statusElement.textContent = message;
        }
      }

      function getJCurveCountryDataToShow() {
        if (!isDataLoadedJCurve) return [];

        const selection = document.getElementById(
          "country-select-jcurve"
        ).value;
        if (selection === "none") return [];
        if (selection === "poland") return countryDataJCurve.poland || [];

        return [];
      }

      // J-Curve Implementation
      const ctxJCurve = document
        .getElementById("growthChartJCurve")
        .getContext("2d");
      let chartJCurve;

      function simulateCurveJCurve(
        base,
        depth,
        tau,
        slope,
        frequency,
        damping,
        plateau
      ) {
        // Adjust time range based on actual data length
        const countriesToShow = getJCurveCountryDataToShow();
        const maxDataYears =
          countriesToShow.length > 0
            ? Math.max(...countriesToShow.map((p) => p.timeFromShock))
            : 20;
        const timeLength = Math.max(41, maxDataYears * 2 + 1); // Ensure we have enough points
        const timeStep = maxDataYears > 20 ? 1 : 0.5; // Use 1-year steps for long periods, 0.5 for short
        const time = Array.from({ length: timeLength }, (_, i) => i * timeStep);
        const indicator = time.map((t) => {
          if (t === 0) return base;

          // Main J-curve components with plateau convergence
          const plateauConvergence =
            plateau * (1 - Math.exp(-slope * t)) + base * Math.exp(-slope * t);
          const initialShock = -depth * Math.exp(-t / tau);
          const oscillation =
            depth * 1.0 * Math.exp(-damping * t) * Math.cos(frequency * t);

          return plateauConvergence + initialShock + oscillation;
        });

        // Build datasets array
        const datasets = [
          {
            label: "Economic Indicator",
            data: indicator,
            borderColor: "#dc3545",
            backgroundColor: "rgba(220, 53, 69, 0.1)",
            borderWidth: 3,
            fill: true,
            tension: 0.1,
          },
          {
            label: "Pre-shock Baseline",
            data: time.map(() => base),
            borderColor: "rgba(128, 128, 128, 0.5)",
            backgroundColor: "transparent",
            borderWidth: 1,
            borderDash: [5, 5],
            fill: false,
            pointRadius: 0,
          },
          {
            label: "New Equilibrium",
            data: time.map(() => plateau),
            borderColor: "rgba(40, 167, 69, 0.7)",
            backgroundColor: "transparent",
            borderWidth: 2,
            borderDash: [3, 3],
            fill: false,
            pointRadius: 0,
          },
        ];

        // Add real country data if available
        if (countriesToShow.length > 0) {
          const polandDataPoints = countriesToShow.map((point) => ({
            x: point.timeFromShock,
            y: point.gdpGrowth,
          }));

          datasets.push({
            label: "Poland GDP Growth (%) - World Bank",
            data: polandDataPoints.map((point, index) => ({
              x: point.x,
              y: point.y,
              year: countriesToShow[index].year,
            })),
            borderColor: "#28a745",
            backgroundColor: "rgba(40, 167, 69, 0.2)",
            borderWidth: 3,
            fill: false,
            tension: 0.1,
            pointRadius: 4,
            pointHoverRadius: 6,
            showLine: true,
          });
        }

        if (chartJCurve) chartJCurve.destroy();
        chartJCurve = new Chart(ctxJCurve, {
          type: "line",
          data: {
            labels: time,
            datasets: datasets,
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: true,
                position: "top",
              },
              tooltip: {
                callbacks: {
                  title: function (tooltipItems) {
                    if (tooltipItems[0].datasetIndex === 3) {
                      // Poland data
                      const dataPoint = tooltipItems[0].raw;
                      return `Year: ${dataPoint.year} (Period ${tooltipItems[0].label})`;
                    }
                    return "Time Period: " + tooltipItems[0].label;
                  },
                  label: function (context) {
                    if (context.datasetIndex === 3) {
                      // Poland data
                      const dataPoint = context.raw;
                      return `${context.dataset.label}: ${dataPoint.y.toFixed(
                        2
                      )}%`;
                    }
                    return (
                      context.dataset.label + ": " + context.parsed.y.toFixed(2)
                    );
                  },
                },
              },
            },
            scales: {
              x: {
                title: { display: true, text: "Time (periods since shock)" },
                grid: { color: "rgba(0,0,0,0.1)" },
              },
              y: {
                title: { display: true, text: "Economic Indicator Value" },
                grid: { color: "rgba(0,0,0,0.1)" },
              },
            },
          },
        });

        // Calculate insights
        const troughIndex =
          indicator
            .slice(1, 20)
            .findIndex(
              (val, i) => val === Math.min(...indicator.slice(1, 20))
            ) + 1;
        const troughTime = time[troughIndex];
        const troughValue = indicator[troughIndex];

        const finalValue = indicator[indicator.length - 1];
        const maxOscillation =
          Math.max(...indicator.slice(10)) - Math.min(...indicator.slice(10));

        // Find when indicator gets within 5% of plateau and stays there
        let convergenceTime = "Beyond shown period";
        const convergenceThreshold = plateau * 0.05; // 5% of plateau value
        for (let i = 10; i < indicator.length - 5; i++) {
          const isConverged = indicator
            .slice(i, i + 5)
            .every((val) => Math.abs(val - plateau) <= convergenceThreshold);
          if (isConverged) {
            convergenceTime = `~${time[i].toFixed(1)} periods`;
            break;
          }
        }

        const netGain = plateau - base;
        const recoveryEfficiency = netGain / depth; // How much long-term gain per unit of short-term pain

        document.getElementById("jcurve-insights").innerHTML = `
                <strong>Oscillating J-Curve with Plateau Analysis:</strong><br>
                <strong>Initial Trough:</strong> ${troughValue.toFixed(
                  2
                )} at period ${troughTime}<br>
                <strong>Maximum Decline:</strong> ${Math.abs(
                  troughValue - base
                ).toFixed(1)} units below baseline<br>
                <strong>Plateau Convergence:</strong> ${convergenceTime}<br>
                <strong>Final Equilibrium:</strong> ${plateau.toFixed(
                  2
                )} (${netGain.toFixed(1)} above baseline)<br>
                <strong>Current Value:</strong> ${finalValue.toFixed(2)}<br>
                <strong>Oscillation Range:</strong> ±${(
                  maxOscillation / 2
                ).toFixed(1)} units during adjustment<br>
                <strong>Recovery Efficiency:</strong> ${recoveryEfficiency.toFixed(
                  2
                )} (long-term gain per unit of short-term cost)<br>
                <em>Economy converges to new equilibrium as structural adjustment completes and volatility subsides.</em>
            `;
      }

      function updateJCurveSimulation() {
        const base = parseFloat(document.getElementById("base-jcurve").value);
        const depth = parseFloat(document.getElementById("depth-jcurve").value);
        const tau = parseFloat(document.getElementById("tau-jcurve").value);
        const slope = parseFloat(document.getElementById("slope-jcurve").value);
        const frequency = parseFloat(
          document.getElementById("frequency-jcurve").value
        );
        const damping = parseFloat(
          document.getElementById("damping-jcurve").value
        );
        const plateau = parseFloat(
          document.getElementById("plateau-jcurve").value
        );

        if (
          !isNaN(base) &&
          !isNaN(depth) &&
          !isNaN(tau) &&
          !isNaN(slope) &&
          !isNaN(frequency) &&
          !isNaN(damping) &&
          !isNaN(plateau) &&
          depth > 0 &&
          tau > 0 &&
          slope >= 0 &&
          frequency > 0 &&
          damping >= 0
        ) {
          simulateCurveJCurve(
            base,
            depth,
            tau,
            slope,
            frequency,
            damping,
            plateau
          );
        }
      }

      // Event listeners
      document
        .getElementById("base-jcurve")
        .addEventListener("input", updateJCurveSimulation);
      document
        .getElementById("depth-jcurve")
        .addEventListener("input", updateJCurveSimulation);
      document
        .getElementById("tau-jcurve")
        .addEventListener("input", updateJCurveSimulation);
      document
        .getElementById("slope-jcurve")
        .addEventListener("input", updateJCurveSimulation);
      document
        .getElementById("frequency-jcurve")
        .addEventListener("input", updateJCurveSimulation);
      document
        .getElementById("damping-jcurve")
        .addEventListener("input", updateJCurveSimulation);
      document
        .getElementById("plateau-jcurve")
        .addEventListener("input", updateJCurveSimulation);
      document
        .getElementById("country-select-jcurve")
        .addEventListener("change", updateJCurveSimulation);
      document
        .getElementById("time-period-select-jcurve")
        .addEventListener("change", function () {
          if (
            document.getElementById("country-select-jcurve").value !== "none"
          ) {
            loadJCurveData(); // This will now fetch from World Bank API
          }
        });

      // Initial simulation
      simulateCurveJCurve(0, 10, 2.5, 0.6, 1.2, 0.1, 5);

      // Load Poland data initially from World Bank API
      updateJCurveDataStatus("Loading Poland data from World Bank API...");
      // Auto-load Poland data since it's selected by default
      loadJCurveData();

      // Handle resize
      let resizeTimeout;
      window.addEventListener("resize", () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          if (chartJCurve) chartJCurve.resize();
        }, 100);
      });
    </script>

    <!-- Shared Navigation -->
    <script src="shared-navigation.js"></script>
    <script>
      insertNavigation();
    </script>
  </body>
</html>
